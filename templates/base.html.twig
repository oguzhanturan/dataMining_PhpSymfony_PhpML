<html class="no-js" lang="en">

<head>

    <!--<script src="https://maps.googleapis.com/maps/api/js?key=" type="text/javascript"></script>-->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!--<script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
    --><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

    <style>

        .circle-tile {
            margin-bottom: 15px;
            text-align: center;
        }
        .circle-tile-heading {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 100%;
            color: #FFFFFF;
            height: 80px;
            margin: 0 auto -40px;
            position: relative;
            transition: all 0.3s ease-in-out 0s;
            width: 80px;
        }
        .circle-tile-heading .fa {
            line-height: 80px;
        }
        .circle-tile-content {
            padding-top: 50px;
        }
        .circle-tile-number {
            font-size: 26px;
            font-weight: 700;
            line-height: 1;
            padding: 5px 0 15px;
        }
        .circle-tile-description {
            text-transform: uppercase;
        }
        .circle-tile-footer {
            background-color: rgba(0, 0, 0, 0.1);
            color: rgba(255, 255, 255, 255);
            display: block;
            padding: 5px;
            transition: all 0.3s ease-in-out 0s;
        }
        .circle-tile-footer:hover {
            background-color: rgba(0, 0, 0, 0.2);
            color: rgba(255, 255, 255, 0.5);
            text-decoration: none;
        }
        .circle-tile-heading.dark-blue:hover {
            background-color: #2E4154;
        }
        .circle-tile-heading.green:hover {
            background-color: #138F77;
        }
        .circle-tile-heading.orange:hover {
            background-color: #DA8C10;
        }
        .circle-tile-heading.blue:hover {
            background-color: #2473A6;
        }
        .circle-tile-heading.red:hover {
            background-color: #CF4435;
        }
        .circle-tile-heading.purple:hover {
            background-color: #7F3D9B;
        }
        .tile-img {
            text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.9);
        }

        .dark-blue {
            background-color: #34495E;
        }
        .green {
            background-color: #16A085;
        }
        .blue {
            background-color: #2980B9;
        }
        .orange {
            background-color: #F39C12;
        }
        .red {
            background-color: #E74C3C;
        }
        .purple {
            background-color: #8E44AD;
        }
        .dark-gray {
            background-color: #7F8C8D;
        }
        .gray {
            background-color: #95A5A6;
        }
        .light-gray {
            background-color: #BDC3C7;
        }
        .yellow {
            background-color: #F1C40F;
        }
        .text-dark-blue {
            color: #34495E;
        }
        .text-green {
            color: #16A085;
        }
        .text-blue {
            color: #2980B9;
        }
        .text-orange {
            color: #F39C12;
        }
        .text-red {
            color: #E74C3C;
        }
        .text-purple {
            color: #8E44AD;
        }
        .text-faded {
            color: rgba(255, 255, 255, 0.7);
        }

        .dot {
            padding-top: 8px;
            font-size: large;
            color: white;
            text-align: center;
            margin-top: 50px;
            height: 40px;
            width: 40px;
            border-color: grey;
            background-color: #ff9900;
            border-radius: 50%;
            display: inline-block;
        }
        .icon{
            font-size:25px;
            color: white;
            display: inline;
        }
        .icon.active{
            color: white;
        }
    </style>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

    <title>{% block title %}Sorgular !{% endblock %}</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="apple-touch-icon" href="apple-icon.png">
    <link rel="shortcut icon" href="favicon.ico">
    {% block stylesheets %}{% endblock %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ asset('vendors') }}/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ asset('vendors') }}/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="{{ asset('vendors') }}/themify-icons/css/themify-icons.css">
    <link rel="stylesheet" href="{{ asset('vendors') }}/flag-icon-css/css/flag-icon.min.css">
    <link rel="stylesheet" href="{{ asset('vendors') }}/selectFX/css/cs-skin-elastic.css">
    <link rel="stylesheet" href="{{ asset('assets') }}/css/style.css">

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'>
    <style type="text/css">
        .boyut{
            float:left; border:1px ; padding:10px; margin:10px;
        }
        .orta_govde{
            float: left;
            display: inline-block;
            width: 1200px;
            height: 1000px;
        }
    </style>

</head>

<body>

<aside id="left-panel" class="left-panel">
    <a href="{{ path('sheet_index') }}"><div class="dot"><b>H</b></div></a>
    <ul style="color: white ; margin-top: 55px; margin-left: 8px">
        <a href="{{ path('sheet_index') }}"><li class="icon icon active"><i class="menu-icon fa fa-street-view"></i></li></a>
        <br>
        <br>

        <a href="{{ path('sheet_charts') }}"><li  class="icon"><i class="menu-icon fa fa-line-chart"></i></li></a>
        <br>
        <br>
        <a href="{{ path('datatable') }}"><li  class="icon"><i class="fa fa-table"></i></li></a>
        <br>
        <br>
        <a href="{{ path('sheet_new') }}"><li  class="icon"><i class="fa fa-plus"></i></li></a>
    </ul>
</aside>

<div id="right-panel" class="right-panel">

    <!-- Header-->
    <header id="header" class="header">

        <div class="header-menu">

            <div class="col-sm-7">
                <div class="header-left">
                    <h1>Hızır Acil</h1>
                    <h4>Acil Servis Tez Projesi</h4>

                </div>
            </div>
        </div>

    </header>
    {% block body %}{% endblock %}

</div>

<script src="{{ asset('vendors') }}/jquery/dist/jquery.min.js"></script>
<script src="{{ asset('vendors') }}/jquery/dist/jquery.min.js"></script>
<script src="{{ asset('vendors') }}/popper.js/dist/umd/popper.min.js"></script>
<script src="{{ asset('vendors') }}/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="{{ asset('assets') }}/js/main.js"></script>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

{% block javascripts %}{% endblock %}
<script type="text/javascript">
    drawChart(1);

    google.charts.load("current", {packages:["corechart"]});
    google.charts.setOnLoadCallback(drawChart);

    $(document).ready(function(){
        drawChart('1','Afyon Yolu');
        $('#AfyonYolu').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);

        });
        $('#Alpu').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#Odunpazarı').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#AnkaraYolu').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#Beylikova').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#BursaYolu').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#Çifteler').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#GünYüzü').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#Han').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#İnönü').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#KütahyaYolu').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#Mahmudiye').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#Mihalgazi').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#Mihaliccik').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#Sarıcakaya').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#Seyitgazi').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#Sivrihisar').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });
        $('#Tepebaşı').click(function () {
            console.log(this.value);
            drawChart(this.value,this.id);
        });

    });
    function drawChart(id,name) {
        var diger=0,yeniDogan=0,gis=0,gus=0,kadinDogum=0,kvs=0,metabolik=0,norolojik=0,psikiyatrik=0,solunumSis=0,travma=0,zehirlenme=0;

        $.ajax({
            url:        '/api/ilceler/'+id,
            type:       'get',
            dataType:   'json',
            async:      true,
            "success": function(jsonData, status) {
                console.log('test data ',jsonData);

                for (let i = 0; i < jsonData.length; i++) {
                    let str = jsonData[i]['tani'].split('-');
                    if (str[0] == 'DIgER') diger++;
                    if (str[0] == 'YENIDOgAN') yeniDogan++;
                    if (str[0] == 'GIS') gis++;
                    if (str[0] == 'GuS') gus++;
                    if (str[0] == 'KADiNDOgUM') kadinDogum++;
                    if (str[0] == 'KVS') kvs++;
                    if (str[0] == 'METABOLIK') metabolik++;
                    if (str[0] == 'NoROLOJIK') norolojik++;
                    if (str[0] == 'PSIKIYATRIK') psikiyatrik++;
                    if (str[0] == 'SOLUNUMSISTEMI') solunumSis++;
                    if (str[0] == 'TRAVMA') travma++;
                    if (str[0] == 'ZEHIRLENMELER') zehirlenme++;
                }
                console.log("Diger",diger);

                var data = google.visualization.arrayToDataTable([
                    ['Task', 'Hours per Day'],
                    ['DIgER',     diger],
                    ['YENIDOgAN',     yeniDogan],
                    ['GIS',      gis],
                    ['GuS',  gus],
                    ['KADiNDOgUM', kadinDogum],
                    ['KVS',    kvs],
                    ['METABOLIK',    metabolik],
                    ['NoROLOJIK',    norolojik],
                    ['PSIKIYATRIK',    psikiyatrik],
                    ['SOLUNUMSISTEMI',    solunumSis],
                    ['TRAVMA',    travma],
                    ['ZEHIRLENMELER',    zehirlenme]
                ]);
                var options = {
                    title: name,
                    is3D: true,
                };

                var chart = new google.visualization.PieChart(document.getElementById('piechart'));
                chart.draw(data, options);
            },
            /*
            error : function(xhr, textStatus, errorThrown) {
                alert('Ajax request failed.');
            }*/
        });
    }
</script>
</body>
</html>
